#!/bin/bash
# Copyright (c) 2011 Martin Ueding <dev@martin-ueding.de>

outfile=jscribble/VersionName.java

if [[ -f .bzr/branch/last-revision ]]
then
	version=$(bzr tags | tail -n1 | sed "s/\s.*//")
	revno=$(bzr revno)
else
	version=NA
	revno=NA
fi

echo "package jscribble;" > "$outfile"
echo "/**" >> "$outfile"
echo " * Version name dummy." >> "$outfile"
echo " */" >> "$outfile"
echo "public class VersionName {" >> $outfile
echo "	/**" >> "$outfile"
echo "	 * Current version number of the VCS." >> "$outfile"
echo "	 */" >> "$outfile"
echo "	public static final String version = \"$version~$revno\";" >> $outfile
echo "}" >> $outfile
echo >> $outfile

